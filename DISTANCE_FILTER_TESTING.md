# ๐งช ุฏููู ุงูุงุฎุชุจุงุฑ - Distance Filter System

## ๐ ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

### โ ุงูุงุฎุชุจุงุฑ 1: ุงูุญุฏ ุงูุฃุฏูู 30 ูู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ ุงูุฎุฑูุทุฉ (Home)
2. ุงูุชุธุฑ ุชุญููู ุงูุตูุฏููุงุช
3. ุงุถุบุท ุนูู ุฒุฑ "ุชุตููุฉ"
4. ุญุงูู ุชุญุฑูู ุงูู Slider ุฅูู ุงููุณุงุฑ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุงูู Slider ูุจุฏุฃ ูู 30 ูู
- ูุง ูููู ุงูุฐูุงุจ ุฃูู ูู 30 ูู
- โ ุนุฑุถ "30 ูู (ุฃุฏูู)"

---

### โ ุงูุงุฎุชุจุงุฑ 2: ุงูุญุฏ ุงูุฃูุตู 100 ูู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ ุงูุฎุฑูุทุฉ
2. ุงุถุบุท ุนูู ุฒุฑ "ุชุตููุฉ"
3. ุญุงูู ุชุญุฑูู ุงูู Slider ุฅูู ุงููููู

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุงูู Slider ูุตู ุฅูู 100 ูู
- ูุง ูููู ุงูุฐูุงุจ ุฃูุซุฑ ูู 100 ูู
- โ ุนุฑุถ "100 ูู"

---

### โ ุงูุงุฎุชุจุงุฑ 3: ุงูุชุตููุฉ ุงูุฏููุงููููุฉ ูู ุงูุฎุฑูุทุฉ

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุตูุญุฉ ุงูุฎุฑูุทุฉ
2. ุงุถุบุท ุนูู ุฒุฑ "ุชุตููุฉ"
3. ุบููุฑ ุงููุณุงูุฉ ูู 50 ุฅูู 30 ูู
4. ุฑุงูุจ ุงูุฎุฑูุทุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุนุฏุฏ ุงูุตูุฏููุงุช ุงููุนุฑูุถุฉ ููู
- ุชุญุฏูุซ ููุฑู ุนูุฏ ุชุญุฑูู ุงูู Slider
- โ ุนุฑุถ ุงูุฑูู ุงูุฌุฏูุฏ (ูุซู: "5 ูู 12 ุตูุฏููุฉ")

---

### โ ุงูุงุฎุชุจุงุฑ 4: ุงูุตูุฏููุงุช ูู ุตูุญุฉ ุงูุฅุฑุณุงู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ูุตูุฉ ุฌุฏูุฏุฉ
2. ุงุถุบุท ุนูู "ุฅุฑุณุงู ููุตูุฏููุงุช ุงููุฑูุจุฉ"
3. ุงูุชุธุฑ ุชุญุฏูุฏ ูููุนู
4. ุงูุธุฑ ุฅูู ุงูู Slider

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุงูู Slider ูุจุฏุฃ ูู 30 ูู
- โ ุงูุญุฏ ุงูุงูุชุฑุงุถู 50 ูู
- โ ุนุฑุถ ุนุฏุฏ ุงูุตูุฏููุงุช ุงููููุชุฑุฉ
- โ ูุซุงู: "ูุฌุฏูุง 7 ุตูุฏููุงุช ูุฑูุจุฉ ูู ูููุนู (ูู ุฅุฌูุงูู 12)"

---

### โ ุงูุงุฎุชุจุงุฑ 5: ุงูุชุตููุฉ ุนูุฏ ุงูุฅุฑุณุงู

**ุงูุฎุทูุงุช:**
1. ูู ุตูุญุฉ ุงูุฅุฑุณุงูุ ุญุฏูุฏ ูุณุงูุฉ 40 ูู
2. ูุงุญุธ ุนุฏุฏ ุงูุตูุฏููุงุช ุงูุฐู ูุชุบูุฑ
3. ุงุฎุชุฑ ุตูุฏููุงุช ูู ุงูุตูุฏููุงุช ุงููุนุฑูุถุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงูุตูุฏููุงุช ุงูุจุนูุฏุฉ ุชุฎุชูู ูู ุงููุงุฆูุฉ
- โ ุงูุฑูู ูุชุญุฏุซ (ูุซู: "ูู 12 ุฅูู 5")
- โ ูุง ูููู ุงุฎุชูุงุฑ ุตูุฏููุงุช ุฎุงุฑุฌ ุงููุทุงู

---

### โ ุงูุงุฎุชุจุงุฑ 6: API ูุฑุฌุน ุงููููุฉ ุงูุตุญูุญุฉ

**ุงูุฎุทูุงุช (ูุชูุฏู):**
1. ุงูุชุญ ูุชุตูุญ Developer Tools (F12)
2. ุงุฐูุจ ุฅูู Network Tab
3. ูู ุตูุญุฉ ุงูุฅุฑุณุงูุ ุบููุฑ ุงููุณุงูุฉ
4. ุฑุงูุจ ุทูุจ API `/api/prescriptions/nearby-pharmacies`

**ุงููุชูุฌุฉ ุงููุชููุนุฉ (ูู Response JSON):**
```json
{
  "prescriptionId": "...",
  "totalPharmacies": 12,
  "maxDistance": 40,
  "pharmacies": [
    {
      "id": "...",
      "name": "ุตูุฏููุฉ...",
      "distance": 15.5,
      ...
    }
  ]
}
```
- โ `maxDistance` ูุธูุฑ ุจุงููููุฉ ุงููุฎุชุงุฑุฉ
- โ ุฌููุน ุงูุตูุฏููุงุช ุจู distance <= maxDistance

---

### โ ุงูุงุฎุชุจุงุฑ 7: ุงูุญุฏ ุงูุฃุฏูู 30 ูู API

**ุงูุฎุทูุงุช (ูุชูุฏู):**
1. ุงูุชุญ Developer Tools
2. ูู Consoleุ ุญุงูู ุฅุฑุณุงู ุทูุจ:
```javascript
fetch('/api/prescriptions/nearby-pharmacies', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    prescriptionId: 'test',
    userLatitude: 36.75,
    userLongitude: 3.05,
    maxDistance: 10  // ูุญุงููุฉ ูููุฉ ุฃูู ูู 30
  })
}).then(r => r.json()).then(d => console.log(d.maxDistance))
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุงููููุฉ ุงููุฑุฌุนุฉ = 30 (ูููุณ 10)
- โ API ููุฑุถ ุงูุญุฏ ุงูุฃุฏูู ุจุฑูุฌูุงู

---

### โ ุงูุงุฎุชุจุงุฑ 8: ุนุฑุถ ุงููุณุงูุฉ ุจุฏูุฉ ุนุงููุฉ

**ุงูุฎุทูุงุช:**
1. ูู ูุงุฆูุฉ ุงูุตูุฏููุงุชุ ุงูุธุฑ ุฅูู ุงููุณุงูุงุช
2. ุชุญูู ูู ุนุฏุฏ ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ 12.45 ูู
โ 18.30 ูู
โ 5.67 ูู
```
- โ ุฏูุฉ 2 ุฑูู ุนุดุฑู ุฏุงุฆูุงู
- โ ูุง ุนุฑุถ "12.4543562" (ุฏูุฉ ุฒุงุฆุฏุฉ)

---

### โ ุงูุงุฎุชุจุงุฑ 9: ุงูุฃุฐููุงุช ุนูุฏ ุงูุฏุฎูู

**ุงูุฎุทูุงุช:**
1. ุงูุชุญ ุงูุชุทุจูู ูุฃูู ูุฑุฉ
2. ูุฌุจ ุฃู ุชุธูุฑ ูุงูุฐุฉ ุทูุจ ุงููููุน ูุงูุฅุดุนุงุฑุงุช

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุทูุจ "ุงูุณูุงุญ ุจุงููุตูู ุฅูู ุงููููุน"
- โ ุทูุจ "ุงูุณูุงุญ ุจุงูุฅุดุนุงุฑุงุช"
- โ ูููู ุงููุจูู ุฃู ุงูุฑูุถ

---

## ๐ ููุฎุต ุงูุงุฎุชุจุงุฑุงุช:

| # | ุงูุงุฎุชุจุงุฑ | ุงูุญุงูุฉ | ุงูููุงุญุธุฉ |
|---|---------|--------|---------|
| 1 | ุงูุญุฏ ุงูุฃุฏูู 30 ูู | โ | ูุฌุจ ุฃู ูุจุฏุฃ ูู 30 |
| 2 | ุงูุญุฏ ุงูุฃูุตู 100 ูู | โ | ูุฌุจ ุฃู ูุง ูุฒูุฏ ุนู 100 |
| 3 | ุงูุชุตููุฉ ุงูุฏููุงููููุฉ | โ | ุชุญุฏูุซ ููุฑู |
| 4 | ุนุฑุถ ุงูุฃุฑูุงู | โ | 30 (ุฃุฏูู) - 50 - 100 |
| 5 | ุนุฑุถ ุงูุตูุฏููุงุช | โ | ุนุฏุฏ ูููุชุฑ ุตุญูุญ |
| 6 | API Response | โ | maxDistance ุตุญูุญ |
| 7 | API Min Check | โ | ููุฑุถ ุงูุญุฏ ุงูุฃุฏูู 30 |
| 8 | ุฏูุฉ ุงููุณุงูุฉ | โ | 2 ุฑูู ุนุดุฑู |
| 9 | ุงูุฃุฐููุงุช | โ | ูููุน + ุฅุดุนุงุฑุงุช |

---

## ๐ง ููุงุญุธุงุช ุงูุชุตุญูุญ:

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

### ุงููุดููุฉ: ุงูู Slider ูุง ูุจุฏุฃ ูู 30
**ุงูุญู:** ุชุญูู ูู `min="30"` ูู ุงูู input

### ุงููุดููุฉ: ุงูุตูุฏููุงุช ูุง ุชุชุญุฏุซ ุนูุฏ ุชุบููุฑ ุงููุณุงูุฉ
**ุงูุญู:** ุชุญูู ูู `useEffect` dependency array ูุญุชูู `maxDistance`

### ุงููุดููุฉ: ุนุฑุถ ุฃุฑูุงู ุนุดุฑูุฉ ูุซูุฑุฉ
**ุงูุญู:** ุงุณุชุฎุฏู `.toFixed(2)` ูู ุนุฑุถ ุงููุณุงูุฉ

### ุงููุดููุฉ: API ูุฑุฌุน ุตูุฏููุงุช ุฎุงุฑุฌ ุงููุทุงู
**ุงูุญู:** ุชุญูู ูู Filter condition ูู API

---

## ๐ฏ ุงูููุงุท ุงูุญุฑุฌุฉ:

โ **ุงูุญุฏ ุงูุฃุฏูู 30 ูู** - ููุฑูุถ ุจุฑูุฌูุงู ูู API
โ **ุงูุญุฏ ุงูุฃูุตู 100 ูู** - ูุง ูููู ุชุฌุงูุฒู
โ **ุงูุชุตููุฉ ุงูููุฑูุฉ** - ุนูุฏ ุชุญุฑูู ุงูู Slider
โ **ุนุฏุฏ ุงูุตูุฏููุงุช** - ูุชุญุฏุซ ุญุณุจ ุงููุณุงูุฉ
โ **ุงูุฃุฐููุงุช** - ูููุน + ุฅุดุนุงุฑุงุช ุนูุฏ ุงูุฏุฎูู

---

**ุงุฎุชุจุงุฑ ูุงุฌุญ! โ**

